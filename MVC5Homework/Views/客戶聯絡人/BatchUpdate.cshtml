@model IEnumerable<MVC5Homework.Models.客戶聯絡人>

@{
    ViewBag.Title = "BatchUpdate";
}

<h4>客戶聯絡人</h4>


@using (Html.BeginForm())
{

    <input type="submit" value="批次更新資料" id="btnUpdate" class="btn btn-default" /><br />
    @Html.Hidden("客戶Id")
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.職稱)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.姓名)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Email)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.手機)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.電話)
            </th>
            <th></th>
        </tr>

        @if (Model != null)
        {

            var data = Model.ToArray();

            for (var i = 0; i < data.Length; i++)
            {
                @Html.HiddenFor(modelItem => data[i].Id)
                @Html.HiddenFor(modelItem => data[i].客戶Id)

                <tr>
                    <td>
                        @Html.EditorFor(modelItem => data[i].職稱, new { htmlAttributes = new { @class = "form-control" } } )
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => data[i].姓名)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => data[i].Email)
                    </td>
                    <td>
                        @Html.EditorFor(modelItem => data[i].手機, new { htmlAttributes = new { @class = "form-control" } } )
                    </td>
                    <td>
                        @Html.EditorFor(modelItem => data[i].電話, new { htmlAttributes = new { @class = "form-control" } } )
                    </td>
                </tr>
            }

        }
    </table>

}
       

@if(@TempData["UpdateMsg"] != null)
{
    <script>
        alert('@TempData["UpdateMsg"]');
    </script>
}